extends /node_modules/scp-ng-gulp/resources/pug/list-page
include /node_modules/scp-ng-gulp/resources/pug/mixins/list

block list
  list.panel.panel-default(list="vm.list")
    list-header(text="pkg.backup.admin.source.list.TITLE")
      a.btn.btn-default(ng-click="vm.list.scrollToAnchor('source-edit-form')")
        i.fa.fa-plus
      a.btn.btn-default(ng-click="vm.list.refresh.now()")
        i.fa.fa-refresh
      a.btn.btn-default(ng-click="vm.filters.visible = !vm.filters.visible")
        i.fa.fa-filter
    source-filters(
    show="vm.filters.visible"
    current="vm.filters.current"
    change="vm.filters.change()"
    )
    pkg-backup-source-table.border-top-table
    list-footer

block bottom-left
  +create-form("{{ 'pkg.backup.admin.source.form.title.ADD' | translate }}", 'source-edit-form')
    source-form(form="vm.create")

block bottom-right
  logs(
  heading="pkg.backup.admin.source.logs.TITLE"
  filter="vm.logs.filter"
  listen-to="vm.list"
  )
